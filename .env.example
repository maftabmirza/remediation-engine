# =============================================================================
# AIOps Remediation Engine - Environment Configuration
# =============================================================================
# Copy this to .env and fill in all required values
# DO NOT commit .env to version control!
#
# Quick Setup:
# 1. cp .env.example .env
# 2. Generate secrets (see REQUIRED section below)
# 3. Fill in all values
# 4. docker-compose up -d
# =============================================================================

# -----------------------------------------------------------------------------
# ⚠️  CRITICAL - REQUIRED VARIABLES
# These MUST be set or the application will not start
# -----------------------------------------------------------------------------

# Encryption Key - Used to encrypt credentials in database
# Generate with: python3 -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())"
ENCRYPTION_KEY=

# JWT Secret - Must be at least 32 characters
# Generate with: openssl rand -hex 32
JWT_SECRET=

# PostgreSQL Database
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_DB=aiops
POSTGRES_USER=aiops
# Generate with: openssl rand -base64 32
POSTGRES_PASSWORD=

# -----------------------------------------------------------------------------
# Authentication & Security
# -----------------------------------------------------------------------------

JWT_EXPIRY_HOURS=24

# Initial Admin User (created on first startup)
ADMIN_USERNAME=admin
ADMIN_PASSWORD=Passw0rd

# LLM API Keys (Optional - leave empty if not using AI features)
ANTHROPIC_API_KEY=
# OPENAI_API_KEY=
# GOOGLE_API_KEY=

# App Settings
DEBUG=false
APP_PORT=8080

# =============================================================================
# Prometheus Integration
# =============================================================================

# Basic Settings
PROMETHEUS_URL=http://prometheus:9090
ENABLE_PROMETHEUS_QUERIES=true
PROMETHEUS_TIMEOUT=30

# Dashboard Settings
PROMETHEUS_DASHBOARD_ENABLED=true
PROMETHEUS_REFRESH_INTERVAL=30
PROMETHEUS_DEFAULT_TIME_RANGE=24h

# Infrastructure Metrics
INFRASTRUCTURE_METRICS_ENABLED=true
INFRASTRUCTURE_SHOW_CPU=true
INFRASTRUCTURE_SHOW_MEMORY=true
INFRASTRUCTURE_SHOW_DISK=true

# Warning Thresholds (percentage)
INFRASTRUCTURE_CPU_WARNING_THRESHOLD=75
INFRASTRUCTURE_CPU_CRITICAL_THRESHOLD=90
INFRASTRUCTURE_MEMORY_WARNING_THRESHOLD=75
INFRASTRUCTURE_MEMORY_CRITICAL_THRESHOLD=90
INFRASTRUCTURE_DISK_WARNING_THRESHOLD=75
INFRASTRUCTURE_DISK_CRITICAL_THRESHOLD=90

# Chart Configuration
CHART_LIBRARY=echarts
CHART_THEME=grafana-dark
CHART_ENABLE_ZOOM=true
CHART_ENABLE_ANIMATIONS=true
CHART_MAX_DATA_POINTS=1000

# Alert Trends
ALERT_TRENDS_ENABLED=true
ALERT_TRENDS_DEFAULT_HOURS=24
ALERT_TRENDS_STEP=1h

# Query Optimization
PROMETHEUS_USE_CACHE=true
PROMETHEUS_CACHE_TTL=60
PROMETHEUS_MAX_RETRIES=3
PROMETHEUS_RETRY_DELAY=2
