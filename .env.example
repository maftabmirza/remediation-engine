# AIOps Platform Configuration
# Copy this to .env and update values

# PostgreSQL
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_DB=aiops
POSTGRES_USER=aiops
POSTGRES_PASSWORD=change_this_secure_password

# Authentication
JWT_SECRET=change_this_to_a_random_secret_key_at_least_32_chars
JWT_EXPIRY_HOURS=24
ENCRYPTION_KEY=change_this_to_a_random_fernet_key_generated_by_cryptography

# Initial Admin User (created on first startup)
ADMIN_USERNAME=admin
ADMIN_PASSWORD=change_this_password

# LLM API Keys
ANTHROPIC_API_KEY=sk-ant-your-key-here
# OPENAI_API_KEY=sk-your-key-here
# GOOGLE_API_KEY=your-key-here

# App Settings
DEBUG=false
APP_PORT=8080

# =============================================================================
# Prometheus Integration
# =============================================================================

# Basic Settings
PROMETHEUS_URL=http://prometheus:9090
ENABLE_PROMETHEUS_QUERIES=true
PROMETHEUS_TIMEOUT=30

# Dashboard Settings
PROMETHEUS_DASHBOARD_ENABLED=true
PROMETHEUS_REFRESH_INTERVAL=30
PROMETHEUS_DEFAULT_TIME_RANGE=24h

# Infrastructure Metrics
INFRASTRUCTURE_METRICS_ENABLED=true
INFRASTRUCTURE_SHOW_CPU=true
INFRASTRUCTURE_SHOW_MEMORY=true
INFRASTRUCTURE_SHOW_DISK=true

# Warning Thresholds (percentage)
INFRASTRUCTURE_CPU_WARNING_THRESHOLD=75
INFRASTRUCTURE_CPU_CRITICAL_THRESHOLD=90
INFRASTRUCTURE_MEMORY_WARNING_THRESHOLD=75
INFRASTRUCTURE_MEMORY_CRITICAL_THRESHOLD=90
INFRASTRUCTURE_DISK_WARNING_THRESHOLD=75
INFRASTRUCTURE_DISK_CRITICAL_THRESHOLD=90

# Chart Configuration
CHART_LIBRARY=echarts
CHART_THEME=grafana-dark
CHART_ENABLE_ZOOM=true
CHART_ENABLE_ANIMATIONS=true
CHART_MAX_DATA_POINTS=1000

# Alert Trends
ALERT_TRENDS_ENABLED=true
ALERT_TRENDS_DEFAULT_HOURS=24
ALERT_TRENDS_STEP=1h

# Query Optimization
PROMETHEUS_USE_CACHE=true
PROMETHEUS_CACHE_TTL=60
PROMETHEUS_MAX_RETRIES=3
PROMETHEUS_RETRY_DELAY=2

# =============================================================================
# Grafana Integration
# =============================================================================
# Internal Grafana URL (for containers)
GRAFANA_URL=http://grafana:3000
# Grafana admin password (also used for service account creation)
GRAFANA_ADMIN_PASSWORD=admin

# =============================================================================
# MCP Grafana Integration (Model Context Protocol)
# =============================================================================
# Service Account Token - AUTO-GENERATED on first deployment by setup script
# Run: ./scripts/setup-mcp-grafana.sh to create this automatically
# Or manually create via Grafana UI: Administration > Service Accounts > Add
GRAFANA_SERVICE_ACCOUNT_TOKEN=

# MCP Grafana URL (internal Docker network)
MCP_GRAFANA_URL=http://mcp-grafana:8000

# =============================================================================
# Public URL Configuration
# =============================================================================
# Public URL for the AIOps platform (used for Grafana root_url)
AIOPS_PUBLIC_URL=http://localhost:8080
AIOPS_PUBLIC_DOMAIN=localhost
